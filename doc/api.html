

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Documentation &mdash; caproto 0+untagged.639.gf178a1f documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="caproto 0+untagged.639.gf178a1f documentation" href="index.html"/>
        <link rel="next" title="References" href="references.html"/>
        <link rel="prev" title="Writing Your Own Channel Access Client" href="basics.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> caproto
          

          
          </a>

          
            
            
              <div class="version">
                0+untagged.639.gf178a1f
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Channel Access Sans I/O</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="basics.html">Writing Your Own Channel Access Client</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#commands">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-state-machine">The State Machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="#special-constants">Special Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-virtualcircuit-object">The VirtualCircuit object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-broadcaster-object">The Broadcaster object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#channel-objects">Channel objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#payload-data-types">Payload Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://danielballan.github.io/caproto/bench/#/summarylist">Performance Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release Notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Clients and Servers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="curio-client.html">Asynchronous Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="curio-server.html">Asynchronous Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="threading-client.html">Thread-based Client Mirroring pyepics API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">caproto</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>API Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-documentation">
<h1><a class="toc-backref" href="#id1">API Documentation</a><a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#api-documentation" id="id1">API Documentation</a><ul>
<li><a class="reference internal" href="#commands" id="id2">Commands</a></li>
<li><a class="reference internal" href="#the-state-machine" id="id3">The State Machine</a></li>
<li><a class="reference internal" href="#special-constants" id="id4">Special Constants</a></li>
<li><a class="reference internal" href="#the-virtualcircuit-object" id="id5">The VirtualCircuit object</a></li>
<li><a class="reference internal" href="#the-broadcaster-object" id="id6">The Broadcaster object</a></li>
<li><a class="reference internal" href="#channel-objects" id="id7">Channel objects</a></li>
<li><a class="reference internal" href="#payload-data-types" id="id8">Payload Data Types</a></li>
<li><a class="reference internal" href="#exceptions" id="id9">Exceptions</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="commands">
<h2><a class="toc-backref" href="#id2">Commands</a><a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<p>Caproto lets you work with Channel Access communication in terms of <em>Commands</em>
instead of thinking in terms of bytes.</p>
<p>Take <a class="reference internal" href="#caproto.VersionRequest" title="caproto.VersionRequest"><code class="xref py py-class docutils literal"><span class="pre">VersionRequest</span></code></a> as an example.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">caproto</span>

<span class="gp">In [2]: </span><span class="n">com</span> <span class="o">=</span> <span class="n">caproto</span><span class="o">.</span><span class="n">VersionRequest</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>A Command has a useful <code class="docutils literal"><span class="pre">__repr__()</span></code>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">com</span>
<span class="gh">Out[3]: </span><span class="go">VersionRequest(priority=0, version=13)</span>
</pre></div>
</div>
<p>Every Command has a <code class="xref py py-data docutils literal"><span class="pre">header</span></code> and a <code class="xref py py-data docutils literal"><span class="pre">payload</span></code>. The data in them
fully describe the Command. The <code class="xref py py-data docutils literal"><span class="pre">header</span></code> has generically-named fields
provided by the Channel Access specification.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">com</span><span class="o">.</span><span class="n">header</span>
<span class="gh">Out[4]: </span><span class="go">MessageHeader(command=0, payload_size=0, data_type=0, data_count=13, parameter1=0, parameter2=0)</span>
</pre></div>
</div>
<p>These names are rather opaque, but each Command provides views on this same
data through type-specific attributes with more obvious names. These are the
same names used in the Command&#8217;s <code class="docutils literal"><span class="pre">__repr__()</span></code> and <code class="docutils literal"><span class="pre">__init__</span></code> arguments.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">com</span><span class="o">.</span><span class="n">version</span>
<span class="gh">Out[5]: </span><span class="go">13</span>

<span class="gp">In [6]: </span><span class="n">com</span><span class="o">.</span><span class="n">priority</span>
<span class="go">           Out[6]: 0</span>
</pre></div>
</div>
<p>This is a complete list of the Commands. They are sorted in Command ID order,
designated by the Channel Access specification.</p>
<dl class="class">
<dt id="caproto.VersionRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">VersionRequest</code><span class="sig-paren">(</span><em>priority</em>, <em>version</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#VersionRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VersionRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate a new connection or broadcast between the client and the server.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.VersionRequest.priority">
<code class="descname">priority</code><a class="headerlink" href="#caproto.VersionRequest.priority" title="Permalink to this definition">¶</a></dt>
<dd><p>Between 0 (low) and 99 (high) designating this connection&#8217;s priority
in the event of congestion.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.VersionRequest.version">
<code class="descname">version</code><a class="headerlink" href="#caproto.VersionRequest.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the Channel Access protocol.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.VersionResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">VersionResponse</code><span class="sig-paren">(</span><em>version</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#VersionResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VersionResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Respond to a client&#8217;s initiation of a new connection or broadcast.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.VersionResponse.version">
<code class="descname">version</code><a class="headerlink" href="#caproto.VersionResponse.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the Channel Access protocol.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.SearchRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">SearchRequest</code><span class="sig-paren">(</span><em>name</em>, <em>cid</em>, <em>version</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#SearchRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.SearchRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Query for the address of the server that provides a given Channel.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.SearchRequest.name">
<code class="descname">name</code><a class="headerlink" href="#caproto.SearchRequest.name" title="Permalink to this definition">¶</a></dt>
<dd><p>String name of the channel (i.e. &#8216;PV&#8217;)</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.SearchRequest.cid">
<code class="descname">cid</code><a class="headerlink" href="#caproto.SearchRequest.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer that uniquely identifies this search query on the client side.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.SearchRequest.version">
<code class="descname">version</code><a class="headerlink" href="#caproto.SearchRequest.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the Channel Access protocol.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.SearchRequest.payload_size">
<code class="descname">payload_size</code><a class="headerlink" href="#caproto.SearchRequest.payload_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Padded length of name string</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.SearchRequest.reply">
<code class="descname">reply</code><a class="headerlink" href="#caproto.SearchRequest.reply" title="Permalink to this definition">¶</a></dt>
<dd><p>Hard-coded to <code class="xref py py-data docutils literal"><span class="pre">NO_REPLY</span></code> (<code class="xref py py-data docutils literal"><span class="pre">5</span></code>) meaning that only the
server(s) with an affirmative response should reply.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.SearchResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">SearchResponse</code><span class="sig-paren">(</span><em>port</em>, <em>ip</em>, <em>cid</em>, <em>version</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#SearchResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.SearchResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Answer a <a class="reference internal" href="#caproto.SearchRequest" title="caproto.SearchRequest"><code class="xref py py-class docutils literal"><span class="pre">SearchRequest</span></code></a> giving the address of a Channel.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.SearchResponse.port">
<code class="descname">port</code><a class="headerlink" href="#caproto.SearchResponse.port" title="Permalink to this definition">¶</a></dt>
<dd><p>Port number that will accept TCP connections with clients.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.SearchResponse.ip">
<code class="descname">ip</code><a class="headerlink" href="#caproto.SearchResponse.ip" title="Permalink to this definition">¶</a></dt>
<dd><p>IP address (as a string) that will accept TCP connections with clients.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.SearchResponse.cid">
<code class="descname">cid</code><a class="headerlink" href="#caproto.SearchResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Echoing <a class="reference internal" href="#caproto.SearchResponse.cid" title="caproto.SearchResponse.cid"><code class="xref py py-data docutils literal"><span class="pre">cid</span></code></a> of <a class="reference internal" href="#caproto.SearchRequest" title="caproto.SearchRequest"><code class="xref py py-class docutils literal"><span class="pre">SearchRequest</span></code></a> to let the client match
this response with the original request.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.SearchResponse.version">
<code class="descname">version</code><a class="headerlink" href="#caproto.SearchResponse.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the Channel Access protocol.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.NotFoundResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">NotFoundResponse</code><span class="sig-paren">(</span><em>version</em>, <em>cid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#NotFoundResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.NotFoundResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Answer a <a class="reference internal" href="#caproto.SearchResponse" title="caproto.SearchResponse"><code class="xref py py-class docutils literal"><span class="pre">SearchResponse</span></code></a> in the negative.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.NotFoundResponse.cid">
<code class="descname">cid</code><a class="headerlink" href="#caproto.NotFoundResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Echoing <a class="reference internal" href="#caproto.NotFoundResponse.cid" title="caproto.NotFoundResponse.cid"><code class="xref py py-data docutils literal"><span class="pre">cid</span></code></a> of <a class="reference internal" href="#caproto.SearchRequest" title="caproto.SearchRequest"><code class="xref py py-class docutils literal"><span class="pre">SearchRequest</span></code></a> to let the client match
this response with the original request.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.NotFoundResponse.version">
<code class="descname">version</code><a class="headerlink" href="#caproto.NotFoundResponse.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the Channel Access protocol.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.EchoRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">EchoRequest</code><a class="reference internal" href="_modules/caproto/_commands.html#EchoRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EchoRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Request an <a class="reference internal" href="#caproto.EchoResponse" title="caproto.EchoResponse"><code class="xref py py-class docutils literal"><span class="pre">EchoResponse</span></code></a>.</p>
<p>This command has no fields.</p>
</dd></dl>

<dl class="class">
<dt id="caproto.EchoResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">EchoResponse</code><a class="reference internal" href="_modules/caproto/_commands.html#EchoResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EchoResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Respond to an <a class="reference internal" href="#caproto.EchoRequest" title="caproto.EchoRequest"><code class="xref py py-class docutils literal"><span class="pre">EchoRequest</span></code></a>.</p>
<p>This command has no fields.</p>
</dd></dl>

<dl class="class">
<dt id="caproto.RsrvIsUpResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">RsrvIsUpResponse</code><span class="sig-paren">(</span><em>version</em>, <em>server_port</em>, <em>beacon_id</em>, <em>address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#RsrvIsUpResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.RsrvIsUpResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Heartbeat beacon sent by the server.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.RsrvIsUpResponse.version">
<code class="descname">version</code><a class="headerlink" href="#caproto.RsrvIsUpResponse.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the Channel Access protocol.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.RsrvIsUpResponse.server_port">
<code class="descname">server_port</code><a class="headerlink" href="#caproto.RsrvIsUpResponse.server_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Port number.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.RsrvIsUpResponse.beacon_id">
<code class="descname">beacon_id</code><a class="headerlink" href="#caproto.RsrvIsUpResponse.beacon_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Sequentially incremented integer.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.RsrvIsUpResponse.address">
<code class="descname">address</code><a class="headerlink" href="#caproto.RsrvIsUpResponse.address" title="Permalink to this definition">¶</a></dt>
<dd><p>IP address encoded as integer.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.RsrvIsUpResponse.address_string">
<code class="descname">address_string</code><a class="headerlink" href="#caproto.RsrvIsUpResponse.address_string" title="Permalink to this definition">¶</a></dt>
<dd><p>IP address as string.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.RepeaterRegisterRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">RepeaterRegisterRequest</code><span class="sig-paren">(</span><em>client_address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#RepeaterRegisterRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.RepeaterRegisterRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a client with the Repeater.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.RepeaterRegisterRequest.client_address">
<code class="descname">client_address</code><a class="headerlink" href="#caproto.RepeaterRegisterRequest.client_address" title="Permalink to this definition">¶</a></dt>
<dd><p>IP address of the client (as a string).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.RepeaterConfirmResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">RepeaterConfirmResponse</code><span class="sig-paren">(</span><em>repeater_address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#RepeaterConfirmResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.RepeaterConfirmResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm successful client registration with the Repeater.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.RepeaterConfirmResponse.repeater_address">
<code class="descname">repeater_address</code><a class="headerlink" href="#caproto.RepeaterConfirmResponse.repeater_address" title="Permalink to this definition">¶</a></dt>
<dd><p>IP address of repeater (as a string).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.EventAddRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">EventAddRequest</code><span class="sig-paren">(</span><em>data_type</em>, <em>data_count</em>, <em>sid</em>, <em>subscriptionid</em>, <em>low</em>, <em>high</em>, <em>to</em>, <em>mask</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#EventAddRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EventAddRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe; i.e. request to notified of changes in a Channel&#8217;s value.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.EventAddRequest.data_type">
<code class="descname">data_type</code><a class="headerlink" href="#caproto.EventAddRequest.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of desired DBR type of readings.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventAddRequest.data_count">
<code class="descname">data_count</code><a class="headerlink" href="#caproto.EventAddRequest.data_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Desired number of elements per reading.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventAddRequest.sid">
<code class="descname">sid</code><a class="headerlink" href="#caproto.EventAddRequest.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID of this Channel designated by the server.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventAddRequest.subscriptionid">
<code class="descname">subscriptionid</code><a class="headerlink" href="#caproto.EventAddRequest.subscriptionid" title="Permalink to this definition">¶</a></dt>
<dd><p>New integer ID designated by the client uniquely identifying this
subscription on this Virtual Circuit.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventAddRequest.low">
<code class="descname">low</code><a class="headerlink" href="#caproto.EventAddRequest.low" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated. (Use <a class="reference internal" href="#caproto.EventAddRequest.mask" title="caproto.EventAddRequest.mask"><code class="xref py py-data docutils literal"><span class="pre">mask</span></code></a>.)</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventAddRequest.high">
<code class="descname">high</code><a class="headerlink" href="#caproto.EventAddRequest.high" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated. (Use <a class="reference internal" href="#caproto.EventAddRequest.mask" title="caproto.EventAddRequest.mask"><code class="xref py py-data docutils literal"><span class="pre">mask</span></code></a>.)</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventAddRequest.to">
<code class="descname">to</code><a class="headerlink" href="#caproto.EventAddRequest.to" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated. (Use <a class="reference internal" href="#caproto.EventAddRequest.mask" title="caproto.EventAddRequest.mask"><code class="xref py py-data docutils literal"><span class="pre">mask</span></code></a>.)</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventAddRequest.mask">
<code class="descname">mask</code><a class="headerlink" href="#caproto.EventAddRequest.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask indicating which changes to report.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.EventAddResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">EventAddResponse</code><span class="sig-paren">(</span><em>data</em>, <em>data_type</em>, <em>data_count</em>, <em>status_code</em>, <em>subscriptionid</em>, <em>*</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#EventAddResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EventAddResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the client of a change in a Channel&#8217;s value.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.EventAddResponse.data">
<code class="descname">data</code><a class="headerlink" href="#caproto.EventAddResponse.data" title="Permalink to this definition">¶</a></dt>
<dd><p>data as built-in Python or numpy types</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventAddResponse.data_type">
<code class="descname">data_type</code><a class="headerlink" href="#caproto.EventAddResponse.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of DBR type of reading.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventAddResponse.data_count">
<code class="descname">data_count</code><a class="headerlink" href="#caproto.EventAddResponse.data_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of elements in this reading.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventAddResponse.sid">
<code class="descname">sid</code><a class="headerlink" href="#caproto.EventAddResponse.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID of this Channel designated by the server.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventAddResponse.status_code">
<code class="descname">status_code</code><a class="headerlink" href="#caproto.EventAddResponse.status_code" title="Permalink to this definition">¶</a></dt>
<dd><p>As per Channel Access spec, 1 is success; 0 or &gt;1 are various failures.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventAddResponse.subscriptionid">
<code class="descname">subscriptionid</code><a class="headerlink" href="#caproto.EventAddResponse.subscriptionid" title="Permalink to this definition">¶</a></dt>
<dd><p>Echoing the <a class="reference internal" href="#caproto.EventAddResponse.subscriptionid" title="caproto.EventAddResponse.subscriptionid"><code class="xref py py-data docutils literal"><span class="pre">subscriptionid</span></code></a> in the <a class="reference internal" href="#caproto.EventAddRequest" title="caproto.EventAddRequest"><code class="xref py py-class docutils literal"><span class="pre">EventAddRequest</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.EventCancelRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">EventCancelRequest</code><span class="sig-paren">(</span><em>data_type</em>, <em>sid</em>, <em>subscriptionid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#EventCancelRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EventCancelRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>End notifcations about chnages in a Channel&#8217;s value.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.EventCancelRequest.data_type">
<code class="descname">data_type</code><a class="headerlink" href="#caproto.EventCancelRequest.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of DBR type of reading.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventCancelRequest.sid">
<code class="descname">sid</code><a class="headerlink" href="#caproto.EventCancelRequest.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID of this Channel designated by the server.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventCancelRequest.subscriptionid">
<code class="descname">subscriptionid</code><a class="headerlink" href="#caproto.EventCancelRequest.subscriptionid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this subscription.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.EventCancelResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">EventCancelResponse</code><span class="sig-paren">(</span><em>data_type</em>, <em>sid</em>, <em>subscriptionid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#EventCancelResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EventCancelResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm receipt of <a class="reference internal" href="#caproto.EventCancelRequest" title="caproto.EventCancelRequest"><code class="xref py py-class docutils literal"><span class="pre">EventCancelRequest</span></code></a>.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.EventCancelResponse.data_type">
<code class="descname">data_type</code><a class="headerlink" href="#caproto.EventCancelResponse.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of DBR type of reading.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventCancelResponse.sid">
<code class="descname">sid</code><a class="headerlink" href="#caproto.EventCancelResponse.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID of this Channel designated by the server.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.EventCancelResponse.subscriptionid">
<code class="descname">subscriptionid</code><a class="headerlink" href="#caproto.EventCancelResponse.subscriptionid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this subscription.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.ReadRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">ReadRequest</code><span class="sig-paren">(</span><em>data_type</em>, <em>data_count</em>, <em>sid</em>, <em>ioid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ReadRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ReadRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated by Channel Access: See <a class="reference internal" href="#caproto.ReadNotifyRequest" title="caproto.ReadNotifyRequest"><code class="xref py py-class docutils literal"><span class="pre">ReadNotifyRequest</span></code></a>.</p>
</dd></dl>

<dl class="class">
<dt id="caproto.ReadResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">ReadResponse</code><span class="sig-paren">(</span><em>data</em>, <em>data_type</em>, <em>data_count</em>, <em>sid</em>, <em>ioid</em>, <em>*</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ReadResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ReadResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated by Channel Access: See <a class="reference internal" href="#caproto.ReadNotifyResponse" title="caproto.ReadNotifyResponse"><code class="xref py py-class docutils literal"><span class="pre">ReadNotifyResponse</span></code></a>.</p>
</dd></dl>

<dl class="class">
<dt id="caproto.WriteRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">WriteRequest</code><span class="sig-paren">(</span><em>data</em>, <em>data_type</em>, <em>data_count</em>, <em>sid</em>, <em>ioid</em>, <em>*</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#WriteRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.WriteRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: See <a class="reference internal" href="#caproto.WriteNotifyRequest" title="caproto.WriteNotifyRequest"><code class="xref py py-class docutils literal"><span class="pre">WriteNotifyRequest</span></code></a>.</p>
</dd></dl>

<dl class="class">
<dt id="caproto.EventsOffRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">EventsOffRequest</code><a class="reference internal" href="_modules/caproto/_commands.html#EventsOffRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EventsOffRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily turn off <a class="reference internal" href="#caproto.EventAddResponse" title="caproto.EventAddResponse"><code class="xref py py-class docutils literal"><span class="pre">EventAddResponse</span></code></a> notifications.</p>
<p>This command has no fields.</p>
</dd></dl>

<dl class="class">
<dt id="caproto.EventsOnRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">EventsOnRequest</code><a class="reference internal" href="_modules/caproto/_commands.html#EventsOnRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EventsOnRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore <a class="reference internal" href="#caproto.EventAddResponse" title="caproto.EventAddResponse"><code class="xref py py-class docutils literal"><span class="pre">EventAddResponse</span></code></a> notifications.</p>
<p>This command has no fields.</p>
</dd></dl>

<dl class="class">
<dt id="caproto.ReadSyncRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">ReadSyncRequest</code><a class="reference internal" href="_modules/caproto/_commands.html#ReadSyncRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ReadSyncRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated by Channel Access: See <a class="reference internal" href="#caproto.ReadNotifyRequest" title="caproto.ReadNotifyRequest"><code class="xref py py-class docutils literal"><span class="pre">ReadNotifyRequest</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="caproto.ErrorResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">ErrorResponse</code><span class="sig-paren">(</span><em>original_request</em>, <em>cid</em>, <em>status_code</em>, <em>error_message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ErrorResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ErrorResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify client of a server-side error, including some details about error.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.ErrorResponse.cid">
<code class="descname">cid</code><a class="headerlink" href="#caproto.ErrorResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the client.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.ErrorResponse.status_code">
<code class="descname">status_code</code><a class="headerlink" href="#caproto.ErrorResponse.status_code" title="Permalink to this definition">¶</a></dt>
<dd><p>As per Channel Access spec, 1 is success; 0 or &gt;1 are various failures.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.ClearChannelRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">ClearChannelRequest</code><span class="sig-paren">(</span><em>sid</em>, <em>cid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ClearChannelRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClearChannelRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Close a Channel.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.ClearChannelRequest.cid">
<code class="descname">cid</code><a class="headerlink" href="#caproto.ClearChannelRequest.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the client.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.ClearChannelRequest.sid">
<code class="descname">sid</code><a class="headerlink" href="#caproto.ClearChannelRequest.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the server.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.ClearChannelResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">ClearChannelResponse</code><span class="sig-paren">(</span><em>sid</em>, <em>cid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ClearChannelResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClearChannelResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm that a Channel has been closed.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.ClearChannelResponse.cid">
<code class="descname">cid</code><a class="headerlink" href="#caproto.ClearChannelResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the client.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.ClearChannelResponse.sid">
<code class="descname">sid</code><a class="headerlink" href="#caproto.ClearChannelResponse.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the server.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.ReadNotifyRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">ReadNotifyRequest</code><span class="sig-paren">(</span><em>data_type</em>, <em>data_count</em>, <em>sid</em>, <em>ioid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ReadNotifyRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ReadNotifyRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Request a fresh reading of a Channel.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.ReadNotifyRequest.data_type">
<code class="descname">data_type</code><a class="headerlink" href="#caproto.ReadNotifyRequest.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of desired DBR type of readings.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.ReadNotifyRequest.data_count">
<code class="descname">data_count</code><a class="headerlink" href="#caproto.ReadNotifyRequest.data_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Desired number of elements per reading.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.ReadNotifyRequest.sid">
<code class="descname">sid</code><a class="headerlink" href="#caproto.ReadNotifyRequest.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the server.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.ReadNotifyRequest.ioid">
<code class="descname">ioid</code><a class="headerlink" href="#caproto.ReadNotifyRequest.ioid" title="Permalink to this definition">¶</a></dt>
<dd><p>New integer ID uniquely identifying this I/O transaction on this
Virtual Circuit.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.ReadNotifyResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">ReadNotifyResponse</code><span class="sig-paren">(</span><em>data</em>, <em>data_type</em>, <em>data_count</em>, <em>status</em>, <em>ioid</em>, <em>*</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ReadNotifyResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ReadNotifyResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Request a fresh reading of a Channel.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.ReadNotifyResponse.data">
<code class="descname">data</code><a class="headerlink" href="#caproto.ReadNotifyResponse.data" title="Permalink to this definition">¶</a></dt>
<dd><p>data as built-in Python or numpy types</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.ReadNotifyResponse.metadata">
<code class="descname">metadata</code><a class="headerlink" href="#caproto.ReadNotifyResponse.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>metadata in a ctypes.Structure</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.ReadNotifyResponse.data_type">
<code class="descname">data_type</code><a class="headerlink" href="#caproto.ReadNotifyResponse.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of desired DBR type of readings.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.ReadNotifyResponse.data_count">
<code class="descname">data_count</code><a class="headerlink" href="#caproto.ReadNotifyResponse.data_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Desired number of elements per reading.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.ReadNotifyResponse.status">
<code class="descname">status</code><a class="headerlink" href="#caproto.ReadNotifyResponse.status" title="Permalink to this definition">¶</a></dt>
<dd><p>As per Channel Access spec, 1 is success; 0 or &gt;1 are various failures.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.ReadNotifyResponse.ioid">
<code class="descname">ioid</code><a class="headerlink" href="#caproto.ReadNotifyResponse.ioid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for I/O transaction, echoing <a class="reference internal" href="#caproto.ReadNotifyRequest" title="caproto.ReadNotifyRequest"><code class="xref py py-class docutils literal"><span class="pre">ReadNotifyRequest</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.WriteNotifyRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">WriteNotifyRequest</code><span class="sig-paren">(</span><em>data</em>, <em>data_type</em>, <em>data_count</em>, <em>sid</em>, <em>ioid</em>, <em>*</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#WriteNotifyRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.WriteNotifyRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a value to a Channel.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.WriteNotifyRequest.data">
<code class="descname">data</code><a class="headerlink" href="#caproto.WriteNotifyRequest.data" title="Permalink to this definition">¶</a></dt>
<dd><p>data as built-in Python or numpy types</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.WriteNotifyRequest.metadata">
<code class="descname">metadata</code><a class="headerlink" href="#caproto.WriteNotifyRequest.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>metadata in a ctypes.Structure</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.WriteNotifyRequest.data_type">
<code class="descname">data_type</code><a class="headerlink" href="#caproto.WriteNotifyRequest.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of DBR type.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.WriteNotifyRequest.data_count">
<code class="descname">data_count</code><a class="headerlink" href="#caproto.WriteNotifyRequest.data_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of elements.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.WriteNotifyRequest.sid">
<code class="descname">sid</code><a class="headerlink" href="#caproto.WriteNotifyRequest.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the server.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.WriteNotifyRequest.ioid">
<code class="descname">ioid</code><a class="headerlink" href="#caproto.WriteNotifyRequest.ioid" title="Permalink to this definition">¶</a></dt>
<dd><p>New integer ID uniquely identifying this I/O transaction on this
Virtual Circuit.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.WriteNotifyResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">WriteNotifyResponse</code><span class="sig-paren">(</span><em>data_type</em>, <em>data_count</em>, <em>status</em>, <em>ioid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#WriteNotifyResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.WriteNotifyResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm the receipt of a <a class="reference internal" href="#caproto.WriteNotifyRequest" title="caproto.WriteNotifyRequest"><code class="xref py py-class docutils literal"><span class="pre">WriteNotifyRequest</span></code></a>.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.WriteNotifyResponse.data_type">
<code class="descname">data_type</code><a class="headerlink" href="#caproto.WriteNotifyResponse.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of DBR type.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.WriteNotifyResponse.data_count">
<code class="descname">data_count</code><a class="headerlink" href="#caproto.WriteNotifyResponse.data_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of elements.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.WriteNotifyResponse.sid">
<code class="descname">sid</code><a class="headerlink" href="#caproto.WriteNotifyResponse.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the server.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.WriteNotifyResponse.ioid">
<code class="descname">ioid</code><a class="headerlink" href="#caproto.WriteNotifyResponse.ioid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this I/O transaction, echoing
<a class="reference internal" href="#caproto.WriteNotifyRequest" title="caproto.WriteNotifyRequest"><code class="xref py py-class docutils literal"><span class="pre">WriteNotifyRequest</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.WriteNotifyResponse.status">
<code class="descname">status</code><a class="headerlink" href="#caproto.WriteNotifyResponse.status" title="Permalink to this definition">¶</a></dt>
<dd><p>As per Channel Access spec, 1 is success; 0 or &gt;1 are various failures.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.ClientNameRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">ClientNameRequest</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ClientNameRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientNameRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the server the client name (i.e., user name) of the client.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.ClientNameRequest.name">
<code class="descname">name</code><a class="headerlink" href="#caproto.ClientNameRequest.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Client name.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.HostNameRequest">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">HostNameRequest</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#HostNameRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.HostNameRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the server the host name of the client.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.HostNameRequest.name">
<code class="descname">name</code><a class="headerlink" href="#caproto.HostNameRequest.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Host name.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.AccessRightsResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">AccessRightsResponse</code><span class="sig-paren">(</span><em>cid</em>, <em>access_rights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#AccessRightsResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.AccessRightsResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the client that channel creation failed.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.AccessRightsResponse.cid">
<code class="descname">cid</code><a class="headerlink" href="#caproto.AccessRightsResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the client.</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.AccessRightsResponse.access_rights">
<code class="descname">access_rights</code><a class="headerlink" href="#caproto.AccessRightsResponse.access_rights" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer designated level of read or write access. (See Channel Access
spec for details about meanings.)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.CreateChFailResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">CreateChFailResponse</code><span class="sig-paren">(</span><em>cid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#CreateChFailResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.CreateChFailResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the client that channel creation failed.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.CreateChFailResponse.cid">
<code class="descname">cid</code><a class="headerlink" href="#caproto.CreateChFailResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the client.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.ServerDisconnResponse">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">ServerDisconnResponse</code><span class="sig-paren">(</span><em>cid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ServerDisconnResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerDisconnResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the client that server will disconnect from this Channel.</p>
<p>Fields:</p>
<dl class="attribute">
<dt id="caproto.ServerDisconnResponse.cid">
<code class="descname">cid</code><a class="headerlink" href="#caproto.ServerDisconnResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the client.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-state-machine">
<h2><a class="toc-backref" href="#id3">The State Machine</a><a class="headerlink" href="#the-state-machine" title="Permalink to this headline">¶</a></h2>
<p>To validate commands being sent and received, the caproto VirtualCircuit object
maintains several state machines. It keeps track of what the client is doing
and what server is doing, whether it is playing the role of the client or
server.</p>
<p>A single VirtualCircuit maintains:</p>
<ul class="simple">
<li>exactly one client-side circuit state machine</li>
<li>exactly one server-side circuit state machine</li>
<li>one client-side channel state machine <em>per channel</em></li>
<li>one server-side channel <em>per channel</em></li>
</ul>
<p>The basic interaction looks like this:</p>
<ul class="simple">
<li>Client specifies the priority and protocol version of a new Virtual Circuit.</li>
<li>Server confirms.</li>
<li>Client (optionally) provides its host name and client name.</li>
<li>Client requests the creation of a new Channel.</li>
<li>Server announces access rights for this Channel and confirms Channel
creation.</li>
</ul>
<p>With the Channel open, the client may send unlimited requests to read, write,
or subscribe. The Server responds. The server or the client may initiate
closing the Channel.</p>
<p>The state machines look like this. Click on each to expand.</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><p class="first">Channel (Client)</p>
<p class="last"><a class="reference external" href="_static/command_triggered_channel_transitions_client.png"><img alt="channel-client" src="_images/command_triggered_channel_transitions_client.png" style="width: 100%;" /></a></p>
</td>
<td><p class="first">Channel (Server)</p>
<p class="last"><a class="reference external" href="_static/command_triggered_channel_transitions_server.png"><img alt="channel-server" src="_images/command_triggered_channel_transitions_server.png" style="width: 100%;" /></a></p>
</td>
</tr>
<tr class="row-even"><td><p class="first">Circuit (Client)</p>
<p class="last"><a class="reference external" href="_static/command_triggered_circuit_transitions_client.png"><img alt="circuit-client" src="_images/command_triggered_circuit_transitions_client.png" style="width: 100%;" /></a></p>
</td>
<td><p class="first">Circuit (Server)</p>
<p class="last"><a class="reference external" href="_static/command_triggered_circuit_transitions_server.png"><img alt="circuit-server" src="_images/command_triggered_circuit_transitions_server.png" style="width: 100%;" /></a></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="special-constants">
<h2><a class="toc-backref" href="#id4">Special Constants</a><a class="headerlink" href="#special-constants" title="Permalink to this headline">¶</a></h2>
<p>Caproto uses special constants to represent the states of the state machine:</p>
<dl class="data">
<dt id="caproto.SEND_SEARCH_REQUEST">
<code class="descclassname">caproto.</code><code class="descname">SEND_SEARCH_REQUEST</code><a class="headerlink" href="#caproto.SEND_SEARCH_REQUEST" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.AWAIT_SEARCH_RESPONSE">
<code class="descclassname">caproto.</code><code class="descname">AWAIT_SEARCH_RESPONSE</code><a class="headerlink" href="#caproto.AWAIT_SEARCH_RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.SEND_SEARCH_RESPONSE">
<code class="descclassname">caproto.</code><code class="descname">SEND_SEARCH_RESPONSE</code><a class="headerlink" href="#caproto.SEND_SEARCH_RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.NEED_CIRCUIT">
<code class="descclassname">caproto.</code><code class="descname">NEED_CIRCUIT</code><a class="headerlink" href="#caproto.NEED_CIRCUIT" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.SEND_VERSION_REQUEST">
<code class="descclassname">caproto.</code><code class="descname">SEND_VERSION_REQUEST</code><a class="headerlink" href="#caproto.SEND_VERSION_REQUEST" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.AWAIT_VERSION_RESPONSE">
<code class="descclassname">caproto.</code><code class="descname">AWAIT_VERSION_RESPONSE</code><a class="headerlink" href="#caproto.AWAIT_VERSION_RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.SEND_VERSION_RESPONSE">
<code class="descclassname">caproto.</code><code class="descname">SEND_VERSION_RESPONSE</code><a class="headerlink" href="#caproto.SEND_VERSION_RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.SEND_CREATE_CHAN_REQUEST">
<code class="descclassname">caproto.</code><code class="descname">SEND_CREATE_CHAN_REQUEST</code><a class="headerlink" href="#caproto.SEND_CREATE_CHAN_REQUEST" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.AWAIT_CREATE_CHAN_RESPONSE">
<code class="descclassname">caproto.</code><code class="descname">AWAIT_CREATE_CHAN_RESPONSE</code><a class="headerlink" href="#caproto.AWAIT_CREATE_CHAN_RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.SEND_CREATE_CHAN_RESPONSE">
<code class="descclassname">caproto.</code><code class="descname">SEND_CREATE_CHAN_RESPONSE</code><a class="headerlink" href="#caproto.SEND_CREATE_CHAN_RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.CONNECTED">
<code class="descclassname">caproto.</code><code class="descname">CONNECTED</code><a class="headerlink" href="#caproto.CONNECTED" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.MUST_CLOSE">
<code class="descclassname">caproto.</code><code class="descname">MUST_CLOSE</code><a class="headerlink" href="#caproto.MUST_CLOSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.CLOSED">
<code class="descclassname">caproto.</code><code class="descname">CLOSED</code><a class="headerlink" href="#caproto.CLOSED" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.IDLE">
<code class="descclassname">caproto.</code><code class="descname">IDLE</code><a class="headerlink" href="#caproto.IDLE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.ERROR">
<code class="descclassname">caproto.</code><code class="descname">ERROR</code><a class="headerlink" href="#caproto.ERROR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>For example, a new VirtualCiruit starts with these states:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">circuit</span> <span class="o">=</span> <span class="n">caproto</span><span class="o">.</span><span class="n">VirtualCircuit</span><span class="p">(</span><span class="n">our_role</span><span class="o">=</span><span class="n">caproto</span><span class="o">.</span><span class="n">CLIENT</span><span class="p">,</span>
<span class="gp">   ...: </span>                                 <span class="n">address</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;0.0.0.0&#39;</span><span class="p">,</span> <span class="mi">5555</span><span class="p">),</span>
<span class="gp">   ...: </span>                                 <span class="n">priority</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">   ...: </span>

<span class="gp">In [8]: </span><span class="n">circuit</span><span class="o">.</span><span class="n">states</span>
<span class="gh">Out[8]: </span><span class="go">&lt;CircuitState states={SERVER: IDLE, CLIENT: SEND_VERSION_REQUEST}&gt;</span>
</pre></div>
</div>
<p>When a <a class="reference internal" href="#caproto.VersionRequest" title="caproto.VersionRequest"><code class="xref py py-class docutils literal"><span class="pre">VersionRequest</span></code></a> is sent through the VirtualCircuit, both the
client and the server state update.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">circuit</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">caproto</span><span class="o">.</span><span class="n">VersionRequest</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">0</span><span class="p">));</span>

<span class="gp">In [10]: </span><span class="n">circuit</span><span class="o">.</span><span class="n">states</span>
<span class="gh">Out[10]: </span><span class="go">&lt;CircuitState states={SERVER: SEND_VERSION_RESPONSE, CLIENT: AWAIT_VERSION_RESPONSE}&gt;</span>
</pre></div>
</div>
<p>And we can test the current state using constants like
<a class="reference internal" href="#caproto.SEND_VERSION_RESPONSE" title="caproto.SEND_VERSION_RESPONSE"><code class="xref py py-class docutils literal"><span class="pre">SEND_VERSION_RESPONSE</span></code></a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">circuit</span><span class="o">.</span><span class="n">states</span><span class="p">[</span><span class="n">caproto</span><span class="o">.</span><span class="n">SERVER</span><span class="p">]</span> <span class="ow">is</span> <span class="n">caproto</span><span class="o">.</span><span class="n">SEND_VERSION_RESPONSE</span>
<span class="gh">Out[11]: </span><span class="go">True</span>
</pre></div>
</div>
<p>Notice the special constants to represent which role a peer is playing.</p>
<dl class="data">
<dt id="caproto.CLIENT">
<code class="descclassname">caproto.</code><code class="descname">CLIENT</code><a class="headerlink" href="#caproto.CLIENT" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.SERVER">
<code class="descclassname">caproto.</code><code class="descname">SERVER</code><a class="headerlink" href="#caproto.SERVER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Special constants are also used to represent the &#8220;direction&#8221; of a command.</p>
<dl class="data">
<dt id="caproto.RESPONSE">
<code class="descclassname">caproto.</code><code class="descname">RESPONSE</code><a class="headerlink" href="#caproto.RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.REQUEST">
<code class="descclassname">caproto.</code><code class="descname">REQUEST</code><a class="headerlink" href="#caproto.REQUEST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Another special constant serves as a sentinel &#8220;Command&#8221; returned by
<a class="reference internal" href="#caproto.Broadcaster.next_command" title="caproto.Broadcaster.next_command"><code class="xref py py-meth docutils literal"><span class="pre">Broadcaster.next_command()</span></code></a> and <a class="reference internal" href="#caproto.VirtualCircuit.next_command" title="caproto.VirtualCircuit.next_command"><code class="xref py py-meth docutils literal"><span class="pre">VirtualCircuit.next_command()</span></code></a> when
more data needs to be received before any new Commands can be parsed.</p>
<dl class="data">
<dt id="caproto.NEED_DATA">
<code class="descclassname">caproto.</code><code class="descname">NEED_DATA</code><a class="headerlink" href="#caproto.NEED_DATA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Borrowing a trick (one of many!) from the h11 project, these special constants
are modeled after <code class="docutils literal"><span class="pre">None</span></code>: they’re singletons, their <code class="docutils literal"><span class="pre">__repr__()</span></code> is
their name, and you compare them with <code class="docutils literal"><span class="pre">is</span></code>.  They are also <em>instances of
themselves</em>. This can be useful if you have some object <code class="docutils literal"><span class="pre">obj</span></code> that might be a
Command or might be a sentinel (e.g. <a class="reference internal" href="#caproto.NEED_DATA" title="caproto.NEED_DATA"><code class="xref py py-class docutils literal"><span class="pre">NEED_DATA</span></code></a>). You can always call
<code class="docutils literal"><span class="pre">type(obj)</span></code> and get something useful.</p>
</div>
<div class="section" id="the-virtualcircuit-object">
<h2><a class="toc-backref" href="#id5">The VirtualCircuit object</a><a class="headerlink" href="#the-virtualcircuit-object" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="caproto.VirtualCircuit">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">VirtualCircuit</code><span class="sig-paren">(</span><em>our_role</em>, <em>address</em>, <em>priority</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#VirtualCircuit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit" title="Permalink to this definition">¶</a></dt>
<dd><p>An object encapulating the state of one CA client&#8211;server connection.</p>
<p>It is a companion to a TCP socket managed by the user. All data
received over the socket should be passed to <a class="reference internal" href="#caproto.VirtualCircuit.recv" title="caproto.VirtualCircuit.recv"><code class="xref py py-meth docutils literal"><span class="pre">recv()</span></code></a>. Any data sent
over the socket should first be passed through <a class="reference internal" href="#caproto.VirtualCircuit.send" title="caproto.VirtualCircuit.send"><code class="xref py py-meth docutils literal"><span class="pre">send()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>address</strong> : tuple</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">(host,</span> <span class="pre">port)</span></code> as a string and an integer respectively</p>
</div></blockquote>
<p><strong>priority</strong> : integer or None</p>
<blockquote class="last">
<div><p>May be used by the server to prioritize requests when under high
load. Lowest priority is 0; highest is 99.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="caproto.VirtualCircuit.our_role">
<code class="descname">our_role</code><a class="headerlink" href="#caproto.VirtualCircuit.our_role" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#caproto.CLIENT" title="caproto.CLIENT"><code class="xref py py-class docutils literal"><span class="pre">caproto.CLIENT</span></code></a> or <a class="reference internal" href="#caproto.SERVER" title="caproto.SERVER"><code class="xref py py-class docutils literal"><span class="pre">caproto.SERVER</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.VirtualCircuit.log">
<code class="descname">log</code><a class="headerlink" href="#caproto.VirtualCircuit.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Python logger instance</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.VirtualCircuit.host">
<code class="descname">host</code><a class="headerlink" href="#caproto.VirtualCircuit.host" title="Permalink to this definition">¶</a></dt>
<dd><p>peer host name</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.VirtualCircuit.port">
<code class="descname">port</code><a class="headerlink" href="#caproto.VirtualCircuit.port" title="Permalink to this definition">¶</a></dt>
<dd><p>peer port number</p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.VirtualCircuit.key">
<code class="descname">key</code><a class="headerlink" href="#caproto.VirtualCircuit.key" title="Permalink to this definition">¶</a></dt>
<dd><p>a unique identifer for this instance: <code class="xref py py-data docutils literal"><span class="pre">((host,</span> <span class="pre">port),</span> <span class="pre">priority)</span></code></p>
</dd></dl>

<dl class="method">
<dt id="caproto.VirtualCircuit.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>*commands</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#VirtualCircuit.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert one or more high-level Commands into buffers of bytes that may
be broadcast together in one TCP packet while updating our internal
state machine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>*commands :</strong></p>
<blockquote>
<div><p>any number of <code class="xref py py-class docutils literal"><span class="pre">Message</span></code> objects</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>buffers_to_send</strong> : list</p>
<blockquote class="last">
<div><p>list of buffers to send over a socket</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.VirtualCircuit.recv">
<code class="descname">recv</code><span class="sig-paren">(</span><em>*buffers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#VirtualCircuit.recv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit.recv" title="Permalink to this definition">¶</a></dt>
<dd><p>Add data received over TCP to our internal recieve buffer.</p>
<p>This does not actually do any processing on the data, just stores
it. To trigger processing, you have to call <a class="reference internal" href="#caproto.VirtualCircuit.next_command" title="caproto.VirtualCircuit.next_command"><code class="xref py py-meth docutils literal"><span class="pre">next_command()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>*buffers :</strong></p>
<blockquote class="last">
<div><p>any number of bytes-like buffers</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.VirtualCircuit.next_command">
<code class="descname">next_command</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#VirtualCircuit.next_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit.next_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the next Command out of our internal receive buffer, update our
internal state machine, and return it.</p>
<p>Returns a <code class="xref py py-class docutils literal"><span class="pre">Command</span></code> object or a special constant,
<a class="reference internal" href="#caproto.NEED_DATA" title="caproto.NEED_DATA"><code class="xref py py-data docutils literal"><span class="pre">NEED_DATA</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="caproto.VirtualCircuit.new_channel_id">
<code class="descname">new_channel_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#VirtualCircuit.new_channel_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit.new_channel_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a valid value for a cid or sid.</p>
</dd></dl>

<dl class="method">
<dt id="caproto.VirtualCircuit.new_subscriptionid">
<code class="descname">new_subscriptionid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#VirtualCircuit.new_subscriptionid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit.new_subscriptionid" title="Permalink to this definition">¶</a></dt>
<dd><p>This is used by the convenience methods to obtain an unused integer ID.
It does not update any important state.</p>
</dd></dl>

<dl class="method">
<dt id="caproto.VirtualCircuit.new_ioid">
<code class="descname">new_ioid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#VirtualCircuit.new_ioid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit.new_ioid" title="Permalink to this definition">¶</a></dt>
<dd><p>This is used by the convenience methods to obtain an unused integer ID.
It does not update any important state.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-broadcaster-object">
<h2><a class="toc-backref" href="#id6">The Broadcaster object</a><a class="headerlink" href="#the-broadcaster-object" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="caproto.Broadcaster">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">Broadcaster</code><span class="sig-paren">(</span><em>our_role</em>, <em>protocol_version=13</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#Broadcaster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster" title="Permalink to this definition">¶</a></dt>
<dd><p>An object encapulating the state of one CA UDP connection.</p>
<p>It is a companion to a UDP socket managed by the user. All data
received over the socket should be passed to <a class="reference internal" href="#caproto.Broadcaster.recv" title="caproto.Broadcaster.recv"><code class="xref py py-meth docutils literal"><span class="pre">recv()</span></code></a>. Any data sent
over the socket should first be passed through <a class="reference internal" href="#caproto.Broadcaster.send" title="caproto.Broadcaster.send"><code class="xref py py-meth docutils literal"><span class="pre">send()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>our_role</strong> : CLIENT or SERVER</p>
<p><strong>protocol_version</strong> : integer</p>
<blockquote class="last">
<div><p>Default is <code class="docutils literal"><span class="pre">DEFAULT_PROTOCOL_VERSION</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="caproto.Broadcaster.our_role">
<code class="descname">our_role</code><a class="headerlink" href="#caproto.Broadcaster.our_role" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#caproto.CLIENT" title="caproto.CLIENT"><code class="xref py py-class docutils literal"><span class="pre">caproto.CLIENT</span></code></a> or <a class="reference internal" href="#caproto.SERVER" title="caproto.SERVER"><code class="xref py py-class docutils literal"><span class="pre">caproto.SERVER</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="caproto.Broadcaster.log">
<code class="descname">log</code><a class="headerlink" href="#caproto.Broadcaster.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Python logger instance</p>
</dd></dl>

<dl class="method">
<dt id="caproto.Broadcaster.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>*commands</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#Broadcaster.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert one or more high-level Commands into bytes that may be
broadcast together in one UDP datagram while updating our internal
state machine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>*commands :</strong></p>
<blockquote>
<div><p>any number of <code class="xref py py-class docutils literal"><span class="pre">Message</span></code> objects</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>bytes_to_send</strong> : bytes</p>
<blockquote class="last">
<div><p>bytes to send over a socket</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.Broadcaster.recv">
<code class="descname">recv</code><span class="sig-paren">(</span><em>byteslike</em>, <em>address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#Broadcaster.recv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster.recv" title="Permalink to this definition">¶</a></dt>
<dd><p>Add data from a UDP broadcast to our internal recieve buffer.</p>
<p>This does not actually do any processing on the data, just stores
it. To trigger processing, you have to call <a class="reference internal" href="#caproto.Broadcaster.next_command" title="caproto.Broadcaster.next_command"><code class="xref py py-meth docutils literal"><span class="pre">next_command()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>byteslike</strong> : bytes-like</p>
<p><strong>address</strong> : tuple</p>
<blockquote class="last">
<div><p><code class="docutils literal"><span class="pre">(host,</span> <span class="pre">port)</span></code> as a string and an integer respectively</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.Broadcaster.next_command">
<code class="descname">next_command</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#Broadcaster.next_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster.next_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the next Command out of our internal receive buffer, update our
internal state machine, and return it.</p>
<p>Returns a <code class="xref py py-class docutils literal"><span class="pre">Command</span></code> object or a special constant,
<a class="reference internal" href="#caproto.NEED_DATA" title="caproto.NEED_DATA"><code class="xref py py-data docutils literal"><span class="pre">NEED_DATA</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="caproto.Broadcaster.new_search_id">
<code class="descname">new_search_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#Broadcaster.new_search_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster.new_search_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="caproto.Broadcaster.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#Broadcaster.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.VersionRequest" title="caproto.VersionRequest"><code class="xref py py-class docutils literal"><span class="pre">VersionRequest</span></code></a> and <a class="reference internal" href="#caproto.SearchRequest" title="caproto.SearchRequest"><code class="xref py py-class docutils literal"><span class="pre">SearchRequest</span></code></a>.</p>
<p>The protocol requires that these be transmitted together as part of one
datagram.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : string</p>
<blockquote>
<div><p>Channnel name (PV)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(VersionRequest, SearchRequest)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.Broadcaster.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>ip=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#Broadcaster.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.RepeaterRegisterRequest" title="caproto.RepeaterRegisterRequest"><code class="xref py py-class docutils literal"><span class="pre">RepeaterRegisterRequest</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ip</strong> : string, optional</p>
<blockquote>
<div><p>Our IP address. Defaults is output of <code class="docutils literal"><span class="pre">socket.gethostbyname</span></code>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">RepeaterRegisterRequest</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="channel-objects">
<h2><a class="toc-backref" href="#id7">Channel objects</a><a class="headerlink" href="#channel-objects" title="Permalink to this headline">¶</a></h2>
<p>These objects are used internally by <a class="reference internal" href="#caproto.VirtualCircuit" title="caproto.VirtualCircuit"><code class="xref py py-class docutils literal"><span class="pre">VirtualCircuit</span></code></a> to track the state
of individual channels. The user can optionally use them as a convenience for
generating valid commands.</p>
<dl class="class">
<dt id="caproto.ClientChannel">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">ClientChannel</code><span class="sig-paren">(</span><em>name</em>, <em>circuit</em>, <em>cid=None</em>, <em>protocol_version=13</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ClientChannel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>An object encapsulating the state of the EPICS Channel on a Client.</p>
<p>A ClientChannel may be created in one of two ways:
(1) The user instantiates a ClientChannel with a name, server address,
priority, and optional cid. The server address and priority are used to
assign the ClientChannel to a VirtualCircuit. If no cid is given, a unique
one is allocated by the VirtualCircuit.
(2) A VirtualCircuit processes a CreateChanRequest that refers to a cid
that it has not yet seen. A ClientChannel will be automatically
instantiated with the name and cid indicated that command and the address
and priority of that VirtualCircuit. It can be accessed in the circuit&#8217;s
<code class="docutils literal"><span class="pre">channels</span></code> attribute.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : string</p>
<blockquote>
<div><p>Channnel name (PV)</p>
</div></blockquote>
<p><strong>circuit</strong> : VirtualCircuit</p>
<p><strong>cid</strong> : integer, optional</p>
<p><strong>protocol_version</strong> : integer, optional</p>
<blockquote class="last">
<div><p>Default is <code class="docutils literal"><span class="pre">DEFAULT_PROTOCOL_VERSION</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="caproto.ClientChannel.version">
<code class="descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ClientChannel.version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.VersionRequest" title="caproto.VersionRequest"><code class="xref py py-class docutils literal"><span class="pre">VersionRequest</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>priority</strong> : integer, optional</p>
<blockquote>
<div><p>May be used by the server to prioritize requests when under high
load. Lowest priority is 0; highest is 99. Default is 0.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">VersionRequest</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ClientChannel.host_name">
<code class="descname">host_name</code><span class="sig-paren">(</span><em>host_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ClientChannel.host_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.host_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.HostNameRequest" title="caproto.HostNameRequest"><code class="xref py py-class docutils literal"><span class="pre">HostNameRequest</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>host_name</strong> : string, optional</p>
<blockquote>
<div><p>defaults to output of <code class="docutils literal"><span class="pre">socket.gethostname()</span></code></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">HostNameRequest</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ClientChannel.client_name">
<code class="descname">client_name</code><span class="sig-paren">(</span><em>client_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ClientChannel.client_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.client_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.ClientNameRequest" title="caproto.ClientNameRequest"><code class="xref py py-class docutils literal"><span class="pre">ClientNameRequest</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>client_name</strong> : string, optional</p>
<blockquote>
<div><p>defaults to output of <code class="docutils literal"><span class="pre">getpass.getuser()</span></code></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ClientNameRequest</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ClientChannel.create">
<code class="descname">create</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ClientChannel.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <code class="xref py py-class docutils literal"><span class="pre">CreateChanRequest</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">CreateChanRequest</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ClientChannel.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ClientChannel.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.ClearChannelRequest" title="caproto.ClearChannelRequest"><code class="xref py py-class docutils literal"><span class="pre">ClearChannelRequest</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ClearChannelRequest</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ClientChannel.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>data_type=None</em>, <em>data_count=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ClientChannel.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.ReadNotifyRequest" title="caproto.ReadNotifyRequest"><code class="xref py py-class docutils literal"><span class="pre">ReadNotifyRequest</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_type</strong> : a <code class="xref py py-class docutils literal"><span class="pre">DBR_TYPE</span></code> or its designation integer ID, optional</p>
<blockquote>
<div><p>Requested Channel Access data type. Default is the channel&#8217;s
native data type, which can be checked in the Channel&#8217;s attribute
<code class="xref py py-attr docutils literal"><span class="pre">native_data_type</span></code>.</p>
</div></blockquote>
<p><strong>data_count</strong> : integer, optional</p>
<blockquote>
<div><p>Requested number of values. Default is the channel&#8217;s native data
count, which can be checked in the Channel&#8217;s attribute
<code class="xref py py-attr docutils literal"><span class="pre">native_data_count</span></code>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ReadNotifyRequest</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ClientChannel.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>data</em>, <em>data_type=None</em>, <em>data_count=None</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ClientChannel.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.WriteNotifyRequest" title="caproto.WriteNotifyRequest"><code class="xref py py-class docutils literal"><span class="pre">WriteNotifyRequest</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : tuple, <code class="docutils literal"><span class="pre">numpy.ndarray</span></code>, <code class="docutils literal"><span class="pre">array.array</span></code>, or bytes</p>
<p><strong>data_type</strong> : a <code class="xref py py-class docutils literal"><span class="pre">DBR_TYPE</span></code> or its designation integer ID, optional</p>
<blockquote>
<div><p>Requested Channel Access data type. Default is the channel&#8217;s
native data type, which can be checked in the Channel&#8217;s attribute
<code class="xref py py-attr docutils literal"><span class="pre">native_data_type</span></code>.</p>
</div></blockquote>
<p><strong>data_count</strong> : integer, optional</p>
<blockquote>
<div><p>Requested number of values. Default is the channel&#8217;s native data
count, which can be checked in the Channel&#8217;s attribute
<code class="xref py py-attr docutils literal"><span class="pre">native_data_count</span></code>.</p>
</div></blockquote>
<p><strong>metadata</strong> : <code class="docutils literal"><span class="pre">ctypes.BigEndianStructure</span></code> or tuple</p>
<blockquote>
<div><p>Status and control metadata for the values</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">WriteNotifyRequest</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ClientChannel.subscribe">
<code class="descname">subscribe</code><span class="sig-paren">(</span><em>data_type=None</em>, <em>data_count=None</em>, <em>low=0.0</em>, <em>high=0.0</em>, <em>to=0.0</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ClientChannel.subscribe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.EventAddRequest" title="caproto.EventAddRequest"><code class="xref py py-class docutils literal"><span class="pre">EventAddRequest</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_type</strong> : a <code class="xref py py-class docutils literal"><span class="pre">DBR_TYPE</span></code> or its designation integer ID, optional</p>
<blockquote>
<div><p>Requested Channel Access data type. Default is the channel&#8217;s
native data type, which can be checked in the Channel&#8217;s attribute
<code class="xref py py-attr docutils literal"><span class="pre">native_data_type</span></code>.</p>
</div></blockquote>
<p><strong>data_count</strong> : integer, optional</p>
<blockquote>
<div><p>Requested number of values. Default is the channel&#8217;s native data
count, which can be checked in the Channel&#8217;s attribute
<code class="xref py py-attr docutils literal"><span class="pre">native_data_count</span></code>.</p>
</div></blockquote>
<p><strong>low</strong> : number</p>
<blockquote>
<div><p>Default is 0.</p>
</div></blockquote>
<p><strong>high</strong> : number</p>
<blockquote>
<div><p>Default is 0.</p>
</div></blockquote>
<p><strong>to</strong> : number</p>
<blockquote>
<div><p>Default is 0.</p>
</div></blockquote>
<p><strong>mask :</strong></p>
<blockquote>
<div><p>Default is None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">EventAddRequest</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ClientChannel.unsubscribe">
<code class="descname">unsubscribe</code><span class="sig-paren">(</span><em>subscriptionid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ClientChannel.unsubscribe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.unsubscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.EventAddRequest" title="caproto.EventAddRequest"><code class="xref py py-class docutils literal"><span class="pre">EventAddRequest</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>subscriptionid</strong> : integer</p>
<blockquote>
<div><p>The <code class="docutils literal"><span class="pre">subscriptionid</span></code> that was originally sent in the
corresponding <a class="reference internal" href="#caproto.EventAddRequest" title="caproto.EventAddRequest"><code class="xref py py-class docutils literal"><span class="pre">EventAddRequest</span></code></a>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">EventAddRequest</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="caproto.ServerChannel">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">ServerChannel</code><span class="sig-paren">(</span><em>name</em>, <em>circuit</em>, <em>cid=None</em>, <em>protocol_version=13</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ServerChannel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>A server-side Channel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : string</p>
<blockquote>
<div><p>Channnel name (PV)</p>
</div></blockquote>
<p><strong>circuit</strong> : VirtualCircuit</p>
<p><strong>cid</strong> : integer, optional</p>
<p><strong>protocol_version</strong> : integer, optional</p>
<blockquote class="last">
<div><p>Default is <code class="docutils literal"><span class="pre">DEFAULT_PROTOCOL_VERSION</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="caproto.ServerChannel.version">
<code class="descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ServerChannel.version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.VersionResponse" title="caproto.VersionResponse"><code class="xref py py-class docutils literal"><span class="pre">VersionResponse</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">VersionResponse</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ServerChannel.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>native_data_type</em>, <em>native_data_count</em>, <em>sid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ServerChannel.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <code class="xref py py-class docutils literal"><span class="pre">CreateChanResponse</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>native_data_type</strong> : a <code class="xref py py-class docutils literal"><span class="pre">DBR_TYPE</span></code> or its designation integer ID</p>
<blockquote>
<div><p>Default Channel Access data type.</p>
</div></blockquote>
<p><strong>native_data_count</strong> : integer</p>
<blockquote>
<div><p>Default number of values</p>
</div></blockquote>
<p><strong>sid</strong> : integer</p>
<blockquote>
<div><p>server-allocated sid</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">CreateChanResponse</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ServerChannel.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ServerChannel.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.ClearChannelResponse" title="caproto.ClearChannelResponse"><code class="xref py py-class docutils literal"><span class="pre">ClearChannelResponse</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ClearChannelResponse</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ServerChannel.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>data</em>, <em>ioid</em>, <em>data_type=None</em>, <em>data_count=None</em>, <em>status=1</em>, <em>*</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ServerChannel.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.ReadNotifyResponse" title="caproto.ReadNotifyResponse"><code class="xref py py-class docutils literal"><span class="pre">ReadNotifyResponse</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : tuple, <code class="docutils literal"><span class="pre">numpy.ndarray</span></code>, <code class="docutils literal"><span class="pre">array.array</span></code>, or bytes</p>
<p><strong>ioid</strong> : integer</p>
<p><strong>data_type</strong> : a <code class="xref py py-class docutils literal"><span class="pre">DBR_TYPE</span></code> or its designation integer ID, optional</p>
<blockquote>
<div><p>Requested Channel Access data type. Default is the channel&#8217;s
native data type, which can be checked in the Channel&#8217;s attribute
<code class="xref py py-attr docutils literal"><span class="pre">native_data_type</span></code>.</p>
</div></blockquote>
<p><strong>data_count</strong> : integer, optional</p>
<blockquote>
<div><p>Requested number of values. Default is the channel&#8217;s native data
count, which can be checked in the Channel&#8217;s attribute
<code class="xref py py-attr docutils literal"><span class="pre">native_data_count</span></code>.</p>
</div></blockquote>
<p><strong>status</strong> : integer, optional</p>
<blockquote>
<div><p>Default is 1 (success).</p>
</div></blockquote>
<p><strong>metadata</strong> : <code class="docutils literal"><span class="pre">ctypes.BigEndianStructure</span></code> or tuple</p>
<blockquote>
<div><p>Status and control metadata for the values</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ReadNotifyResponse</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ServerChannel.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>ioid</em>, <em>data_type=None</em>, <em>data_count=None</em>, <em>status=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ServerChannel.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.WriteNotifyResponse" title="caproto.WriteNotifyResponse"><code class="xref py py-class docutils literal"><span class="pre">WriteNotifyResponse</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ioid</strong> : integer</p>
<p><strong>data_type</strong> : a <code class="xref py py-class docutils literal"><span class="pre">DBR_TYPE</span></code> or its designation integer ID, optional</p>
<blockquote>
<div><p>Requested Channel Access data type. Default is the channel&#8217;s
native data type, which can be checked in the Channel&#8217;s attribute
<code class="xref py py-attr docutils literal"><span class="pre">native_data_type</span></code>.</p>
</div></blockquote>
<p><strong>data_count</strong> : integer, optional</p>
<blockquote>
<div><p>Requested number of values. Default is the channel&#8217;s native data
count, which can be checked in the Channel&#8217;s attribute
<code class="xref py py-attr docutils literal"><span class="pre">native_data_count</span></code>.</p>
</div></blockquote>
<p><strong>status</strong> : integer, optional</p>
<blockquote>
<div><p>Default is 1 (success).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">WriteNotifyResponse</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ServerChannel.subscribe">
<code class="descname">subscribe</code><span class="sig-paren">(</span><em>data</em>, <em>subscriptionid</em>, <em>data_type=None</em>, <em>data_count=None</em>, <em>status_code=32</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ServerChannel.subscribe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.EventAddResponse" title="caproto.EventAddResponse"><code class="xref py py-class docutils literal"><span class="pre">EventAddResponse</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : tuple, <code class="docutils literal"><span class="pre">numpy.ndarray</span></code>, <code class="docutils literal"><span class="pre">array.array</span></code>, or bytes</p>
<p><strong>subscriptionid</strong> : integer</p>
<p><strong>data_type</strong> : a <code class="xref py py-class docutils literal"><span class="pre">DBR_TYPE</span></code> or its designation integer ID, optional</p>
<blockquote>
<div><p>Requested Channel Access data type. Default is the channel&#8217;s
native data type, which can be checked in the Channel&#8217;s attribute
<code class="xref py py-attr docutils literal"><span class="pre">native_data_type</span></code>.</p>
</div></blockquote>
<p><strong>data_count</strong> : integer, optional</p>
<blockquote>
<div><p>Requested number of values. Default is the channel&#8217;s native data
count, which can be checked in the Channel&#8217;s attribute
<code class="xref py py-attr docutils literal"><span class="pre">native_data_count</span></code>.</p>
</div></blockquote>
<p><strong>status_code</strong> : integer, optional</p>
<blockquote>
<div><p>Default is 32 (???).</p>
</div></blockquote>
<p><strong>metadata</strong> : <code class="docutils literal"><span class="pre">ctypes.BigEndianStructure</span></code> or tuple</p>
<blockquote>
<div><p>Status and control metadata for the values</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">EventAddResponse</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="caproto.ServerChannel.unsubscribe">
<code class="descname">unsubscribe</code><span class="sig-paren">(</span><em>subscriptionid</em>, <em>data_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_hub.html#ServerChannel.unsubscribe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.unsubscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.EventCancelResponse" title="caproto.EventCancelResponse"><code class="xref py py-class docutils literal"><span class="pre">EventCancelResponse</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>subscriptionid :</strong></p>
<p><strong>data_type</strong> : a <code class="xref py py-class docutils literal"><span class="pre">DBR_TYPE</span></code> or its designation integer ID, optional</p>
<blockquote>
<div><p>Requested Channel Access data type. Default is the channel&#8217;s
native data type, which can be checked in the Channel&#8217;s attribute
<code class="xref py py-attr docutils literal"><span class="pre">native_data_type</span></code>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">EventCancelResponse</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="payload-data-types">
<h2><a class="toc-backref" href="#id8">Payload Data Types</a><a class="headerlink" href="#payload-data-types" title="Permalink to this headline">¶</a></h2>
<p>(Implemented but not yet documented.)</p>
</div>
<div class="section" id="exceptions">
<h2><a class="toc-backref" href="#id9">Exceptions</a><a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<p>All exceptions directly raised by caproto inherit from <code class="xref py py-class docutils literal"><span class="pre">CaprotoError</span></code>.</p>
<p>Errors like <code class="xref py py-class docutils literal"><span class="pre">CaprotoKeyError</span></code> inherit from both <code class="xref py py-class docutils literal"><span class="pre">CaprotoError</span></code>
and the built-in Python <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">KeyError</span></code></a>.</p>
<p>The only special exceptions raised by caproto are <a class="reference internal" href="#caproto.LocalProtocolError" title="caproto.LocalProtocolError"><code class="xref py py-class docutils literal"><span class="pre">LocalProtocolError</span></code></a>
and <a class="reference internal" href="#caproto.RemoteProtocolError" title="caproto.RemoteProtocolError"><code class="xref py py-class docutils literal"><span class="pre">RemoteProtocolError</span></code></a>. These inherit from
<code class="xref py py-class docutils literal"><span class="pre">ProtocolError</span></code>.</p>
<dl class="class">
<dt id="caproto.LocalProtocolError">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">LocalProtocolError</code><a class="reference internal" href="_modules/caproto/_utils.html#LocalProtocolError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.LocalProtocolError" title="Permalink to this definition">¶</a></dt>
<dd><p>You tried to do something that caproto thinks is illegal.</p>
</dd></dl>

<dl class="class">
<dt id="caproto.RemoteProtocolError">
<em class="property">class </em><code class="descclassname">caproto.</code><code class="descname">RemoteProtocolError</code><a class="reference internal" href="_modules/caproto/_utils.html#RemoteProtocolError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.RemoteProtocolError" title="Permalink to this definition">¶</a></dt>
<dd><p>Your remote peer tried to do something that caproto thinks is illegal.</p>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="references.html" class="btn btn-neutral float-right" title="References" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="basics.html" class="btn btn-neutral" title="Writing Your Own Channel Access Client" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Daniel Allan.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0+untagged.639.gf178a1f',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>